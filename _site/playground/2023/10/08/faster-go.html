<!doctype html>
















<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="ko-KR" 
  
    data-mode="light"
  
>
  <!-- The Head -->

<head>
     
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  >

  

  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Go를 빠르게 굴리기" />
<meta property="og:locale" content="ko_KR" />
<meta name="description" content="Go를 시작한 나는 Go뽕을 느끼기 위해 백준 문제를 Go로 풀어봤다. 그런데 일부 문제는 Python 풀이보다 더 느린 결과를 보였다. 뭔가 잘못됐음을 직감했고, 백준에 제출된 고인물들의 코드를 살펴봤다. 그렇게 삽질이 시작됐다." />
<meta property="og:description" content="Go를 시작한 나는 Go뽕을 느끼기 위해 백준 문제를 Go로 풀어봤다. 그런데 일부 문제는 Python 풀이보다 더 느린 결과를 보였다. 뭔가 잘못됐음을 직감했고, 백준에 제출된 고인물들의 코드를 살펴봤다. 그렇게 삽질이 시작됐다." />
<link rel="canonical" href="https://denev6.github.io/playground/2023/10/08/faster-go.html" />
<meta property="og:url" content="https://denev6.github.io/playground/2023/10/08/faster-go.html" />
<meta property="og:site_name" content="Jin’s Notes" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-10-08T00:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Go를 빠르게 굴리기" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-10-08T00:00:00+09:00","datePublished":"2023-10-08T00:00:00+09:00","description":"Go를 시작한 나는 Go뽕을 느끼기 위해 백준 문제를 Go로 풀어봤다. 그런데 일부 문제는 Python 풀이보다 더 느린 결과를 보였다. 뭔가 잘못됐음을 직감했고, 백준에 제출된 고인물들의 코드를 살펴봤다. 그렇게 삽질이 시작됐다.","headline":"Go를 빠르게 굴리기","mainEntityOfPage":{"@type":"WebPage","@id":"https://denev6.github.io/playground/2023/10/08/faster-go.html"},"url":"https://denev6.github.io/playground/2023/10/08/faster-go.html"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>Go를 빠르게 굴리기 | 
Jin's Notes
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Jin's Notes">
<meta name="application-name" content="Jin's Notes">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.1/dist/tocbot.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  

  <!-- A placeholder to allow defining custom metadata -->
<meta property="og:image" content="/assets/img/preview.jpg">
</head>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      TeX: {
        equationNumbers: {
          autoNumber: "AMS"
        }
      },
      tex2jax: {
      inlineMath: [ ['$', '$'] ],
      displayMath: [ ['$$', '$$'], ['\\[', '\\]'] ],
      processEscapes: true,
    }
  });
  MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
        alert("Math Processing Error: "+message[1]);
      });
  MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
        alert("Math Processing Error: "+message[1]);
      });
</script>
<script
  type="text/javascript"
  async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"
></script>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle">
      
      
      <img src="/assets/img/avatar.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'">
      
    </a>

    <h1 class="site-title">
      <a href="/">Jin's Notes</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">호기심 가득한 개발자의 노트</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>홈</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>소개</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>카테고리</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>기록</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>태그</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    

    
    

    
    <a href="https://github.com/denev6
" aria-label="github"  
      target="_blank"    
      rel="noopener noreferrer" >
      <i class="fab fa-github"></i>
    </a>
    
    
    

    
    <a href="https://denev6.tistory.com/" aria-label="blog"  
      target="_blank"    
      rel="noopener noreferrer" >
      <i class="fa-solid fa-pen"></i>
    </a>
    
    
    

    
    <a href="https://www.instagram.com/color_dnv" aria-label="instagram"  
      target="_blank"    
      rel="noopener noreferrer" >
      <i class="fa-brands fa-instagram"></i>
    </a>
    
    
    

    
    <a href="/feed.xml" aria-label="rss"  
      target="_blank"    
      rel="noopener noreferrer" >
      <i class="fas fa-rss"></i>
    </a>
    
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">
                홈
              </a>
            </span>

          
        
          
        
          
        
          
        
          
        
          
            
              <span>Go를 빠르게 굴리기</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      
글
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="검색..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">취소</button>
  </div>
</header>


        <div class="row">
          <main
            aria-label="Main Content"
            class="col-12 col-lg-11 col-xl-9 px-md-4"
          >
            

<article class="px-1">
  
    
  
    <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->


<!-- images -->



  
  

  <!-- CDN URL -->
  

  <!-- Add image path -->
  

  
    
      
      
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  

  



<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  

  
  

  




<!-- return -->




<header>
  <h1 data-toc-skip>Go를 빠르게 굴리기</h1>

  <div class="post-meta text-muted">
    <!-- published date -->
    <span>
      게시
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1696690800"
  data-df="YYYY/MM/DD"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  2023/10/08
</time>

    </span>

    

    <div class="d-flex justify-content-between">
      <!-- author(s) -->
      <span>
        

        By

        <em>
          
            <a href="https://github.com/denev6">박성진</a>
          
        </em>
      </span>

      <!-- read time -->
      <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<!--
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="2206 단어"
>
  <em>12 
분</em>
읽는 시간
</span>
-->

    </div>
    <!-- .d-flex -->
  </div>
  <!-- .post-meta -->
</header>


<div class="content">
  <p><code class="language-plaintext highlighter-rouge">Go</code>를 시작한 나는 Go뽕을 느끼기 위해 백준 문제를 Go로 풀어봤다. 그런데 일부 문제는 <code class="language-plaintext highlighter-rouge">Python</code> 풀이보다 더 느린 결과를 보였다. 뭔가 잘못됐음을 직감했고, 백준에 제출된 고인물들의 코드를 살펴봤다. 그렇게 삽질이 시작됐다.</p>

<p><strong>삽질 결과</strong>: 속도 향상</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">공간 확보</code>: 1.2x</li>
  <li><code class="language-plaintext highlighter-rouge">빠른 입력</code>: 17x</li>
  <li><code class="language-plaintext highlighter-rouge">문자열 합치기</code>: 71x</li>
  <li><code class="language-plaintext highlighter-rouge">정규 표현식</code>: 2.6x</li>
</ul>

<hr />

<h2 id="메모리-공간-확보"><span class="me-2">메모리 공간 확보</span><a href="#메모리-공간-확보" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="n">s</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="m">100</span><span class="p">)</span>  <span class="c">// 슬라이스, len: 100, cap: 100</span>
<span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>  <span class="c">// 값 대입</span>

<span class="n">s</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">100</span><span class="p">)</span>  <span class="c">// 슬라이스, len: 0, cap: 100</span>
<span class="n">s</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>  <span class="c">// 값 대입</span>
</pre></td></tr></tbody></table></code></div></div>

<p>slice를 생성할 때, 해당 slice에 저장될 값의 범위를 알 수 있다면 미리 메모리에 공간을 확보하는 것이 유리하다. <code class="language-plaintext highlighter-rouge">make</code>는 slice의 형식을 입력받은 후, len과 cap을 입력받는다. <code class="language-plaintext highlighter-rouge">len</code>은 슬라이스의 길이로 []int를 3으로 선언하면 [0 0 0]이 만들어진다.</p>

<p>중요한 점은 <code class="language-plaintext highlighter-rouge">Capacity</code>이다. 만약 길이가 3인 슬라이스에 값을 추가해 길이가 4인 슬라이스를 만든다고 하자. 그럼 Go는 새로운 슬라이스를 만들게 된다. 이 때 성능 저하가 발생한다. 불필요한 슬라이스의 재생성을 막기 위해서는 <code class="language-plaintext highlighter-rouge">cap</code>을 지정하면 된다. <code class="language-plaintext highlighter-rouge">cap</code>은 미리 메모리 공간을 얼마나 확보해둘지에 대한 값이다. <code class="language-plaintext highlighter-rouge">len</code>이 3, <code class="language-plaintext highlighter-rouge">cap</code>이 5라면 [0 0 0]을 생성하지만 5개의 값이 들어갈 수 있는 메모리 공간을 확보해둔 상태이다. 따라서 값을 하나 추가해도 새로운 슬라이스를 생성하지 않는다. </p>

<p>이는 <code class="language-plaintext highlighter-rouge">map</code>에도 동일하게 적용된다. 다른 점이라면 <code class="language-plaintext highlighter-rouge">map</code>은 <code class="language-plaintext highlighter-rouge">make</code>를 할 때 바로 <code class="language-plaintext highlighter-rouge">cap</code>을 받는다.</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">bool</span><span class="p">,</span> <span class="m">100</span><span class="p">)</span> <span class="c">// len: 0, cap: 100</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="결과"><span class="me-2">결과</span><a href="#결과" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><a href="https://www.acmicpc.net/problem/10815">백준 10815</a>를 풀이한 결과이다. 문제에서 최대 입력은 500,000개이다.</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th style="text-align: center">cap</th>
      <th style="text-align: center">풀이 시간</th>
      <th style="text-align: center">메모리</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">500,000</td>
      <td style="text-align: center">684ms</td>
      <td style="text-align: center">32576KB</td>
    </tr>
    <tr>
      <td style="text-align: center">100,000</td>
      <td style="text-align: center">644ms</td>
      <td style="text-align: center">48360KB</td>
    </tr>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">784ms</td>
      <td style="text-align: center">50356KB</td>
    </tr>
  </tbody>
</table></div>

<p>다른 문제에서도 <code class="language-plaintext highlighter-rouge">slice</code>와 <code class="language-plaintext highlighter-rouge">map</code> 모두 공간을 미리 확보한 풀이가 빠른 모습을 보여줬다.</p>

<h3 id="참고"><span class="me-2">참고</span><a href="#참고" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><code class="language-plaintext highlighter-rouge">배열</code>을 사용해 정적으로 공간을 확보하는 방법도 있지만 Go에서는 유연하게 길이를 조정할 수 있는 <code class="language-plaintext highlighter-rouge">slice</code>를 선호한다. 예를 들어, 함수에 값을 넘길 때 배열보다 slice가 더 범용적으로 사용될 수 있다. </p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="c">// 모든 int Slice를 받음</span>
<span class="k">func</span> <span class="n">GetSlice</span><span class="p">(</span><span class="n">s</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="p">[]</span><span class="kt">int</span> <span class="p">{</span>
	<span class="k">return</span> <span class="n">s</span>
<span class="p">}</span>

<span class="c">// 길이가 3인 int 배열만 받음</span>
<span class="k">func</span> <span class="n">GetArray</span><span class="p">(</span><span class="n">a</span> <span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span> <span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="kt">int</span> <span class="p">{</span>
	<span class="k">return</span> <span class="n">a</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="c">// 정상 실행</span>
	<span class="n">a</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span>
	<span class="n">a</span> <span class="o">=</span> <span class="n">GetSlice</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

	<span class="c">// 에러 발생</span>
	<span class="n">s</span> <span class="o">:=</span> <span class="p">[</span><span class="m">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{}</span>
	<span class="n">s</span> <span class="o">=</span> <span class="n">GetArray</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="c">// 배열의 길이가 다름</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<hr />

<h2 id="빠른-입력"><span class="me-2">빠른 입력</span><a href="#빠른-입력" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>입력이 많은 문제의 경우, <code class="language-plaintext highlighter-rouge">fmt</code> 입력 구문은 느리다. <code class="language-plaintext highlighter-rouge">bufio</code> 패키지를 사용하면 시간을 단축할 수 있다.</p>

<h3 id="결과-1"><span class="me-2">결과</span><a href="#결과-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><a href="https://www.acmicpc.net/problem/14425">백준 14425번</a> 문제를 4가지 입력 방식을 이용해 풀이해 보았다. </p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>입력 방식</th>
      <th style="text-align: center">풀이 시간</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>scanner.Scan</td>
      <td style="text-align: center">116ms</td>
    </tr>
    <tr>
      <td>reader.ReadString</td>
      <td style="text-align: center">124ms</td>
    </tr>
    <tr>
      <td>fmt.Fscan(reader, …)</td>
      <td style="text-align: center">268ms</td>
    </tr>
    <tr>
      <td>fmt.Scan</td>
      <td style="text-align: center">시간 초과 (2초 이상)</td>
    </tr>
  </tbody>
</table></div>

<p>어떤 입력을 사용하는가에 따라 시간을 2배 이상 단축하기도 하고, 시간 초과가 발생하기도 한다. </p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c">// 가장 빠른 풀이</span>
<span class="k">var</span> <span class="n">sc</span> <span class="o">=</span> <span class="n">bufio</span><span class="o">.</span><span class="n">NewScanner</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">Stdin</span><span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">sc</span><span class="o">.</span><span class="n">Scan</span><span class="p">()</span>       
	<span class="n">sentence</span> <span class="o">:=</span> <span class="n">sc</span><span class="o">.</span><span class="n">Text</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="문제"><span class="me-2">문제</span><a href="#문제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><a href="/assets/posts/faster-go/test-result.png" class="popup img-link "><img data-src="/assets/posts/faster-go/test-result.png" alt="백준: 틀렸습니다" class="lazyload" data-proofer-ignore></a></p>

<p><a href="https://www.acmicpc.net/problem/27649">백준 27649</a>을 풀어보니 분명 <code class="language-plaintext highlighter-rouge">Python</code>에서 문제가 없었는데 <code class="language-plaintext highlighter-rouge">Go</code>로 작성하니 계속 <code class="language-plaintext highlighter-rouge">❗틀렸습니다❗</code>가 나왔다. 그런데 <code class="language-plaintext highlighter-rouge">Scanner</code>를 <code class="language-plaintext highlighter-rouge">Reader</code>로 교체하니 문제가 해결되었다.</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">const</span> <span class="p">(</span>
	<span class="c">// MaxScanTokenSize is the maximum size used to buffer a token</span>
	<span class="c">// unless the user provides an explicit buffer with Scanner.Buffer.</span>
	<span class="c">// The actual maximum token size may be smaller as the buffer</span>
	<span class="c">// may need to include, for instance, a newline.</span>
	<span class="n">MaxScanTokenSize</span> <span class="o">=</span> <span class="m">64</span> <span class="o">*</span> <span class="m">1024</span>

	<span class="n">startBufSize</span> <span class="o">=</span> <span class="m">4096</span> <span class="c">// Size of initial allocation for buffer.</span>
<span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">scanner.Scan</code>은 큰 입력을 받지 못한다. <code class="language-plaintext highlighter-rouge">Scanner</code>를 구현한 <a href="https://pkg.go.dev/bufio#Scanner">소스코드</a>를 살펴보면 <code class="language-plaintext highlighter-rouge">MaxScanTokenSize</code>라는 값이 정의되어 있다. 만약 입력의 크기가 64KB보다 크면 문제가 발생할 수 있다. 따라서 값이 클 것으로 예상되면 차선책인 <code class="language-plaintext highlighter-rouge">reader.ReadString</code>을 사용하는 것이 안전하다.</p>

<h3 id="해결책"><span class="me-2">해결책</span><a href="#해결책" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">import</span> <span class="p">(</span>
	<span class="s">"bufio"</span>
	<span class="s">"os"</span>
	<span class="s">"strings"</span>
<span class="p">)</span>

<span class="k">var</span> <span class="n">reader</span> <span class="o">=</span> <span class="n">bufio</span><span class="o">.</span><span class="n">NewReader</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">Stdin</span><span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">sentence</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">reader</span><span class="o">.</span><span class="n">ReadString</span><span class="p">(</span><span class="sc">'\n'</span><span class="p">)</span>
	<span class="n">sentence</span> <span class="o">=</span> <span class="n">strings</span><span class="o">.</span><span class="n">TrimSpace</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">NewScanner</code> 대신 <code class="language-plaintext highlighter-rouge">NewReader</code>를 사용한다. 참고로 <code class="language-plaintext highlighter-rouge">ReadString</code>은 마지막 <code class="language-plaintext highlighter-rouge">\n</code>까지 읽어온다. 따라서 <code class="language-plaintext highlighter-rouge">TrimSpace</code>를 통해 줄바꿈 문자를 제거해줘야 한다. <del>이거 놓쳐서 많이 틀렸다.</del></p>

<hr />

<h2 id="문자열-합치기-출력"><span class="me-2">문자열 합치기 (출력)</span><a href="#문자열-합치기-출력" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="n">res</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">}</span>
<span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">strings</span><span class="o">.</span><span class="n">Join</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="s">"-"</span><span class="p">))</span>
<span class="c">// a-b-c</span>
</pre></td></tr></tbody></table></code></div></div>

<p>문자열을 연결할 때 <code class="language-plaintext highlighter-rouge">+</code> 연산자를 사용할 수도 있지만 느리다. 따라서 <code class="language-plaintext highlighter-rouge">strings.Join</code>을 사용하면 빠르게 문자열을 이어붙일 수 있다. 첫 인자로 <code class="language-plaintext highlighter-rouge">string Slice</code>를 입력받고, 두 번째 인자로 문자열 <code class="language-plaintext highlighter-rouge">사이에 삽입할 문자열</code>을 건네준다. </p>

<p><code class="language-plaintext highlighter-rouge">Join</code> 메서드가 문자열을 합치는 과정을 보면 내부적으로 <code class="language-plaintext highlighter-rouge">Builder</code>를 사용하고 있다. (<a href="https://cs.opensource.google/go/go/+/refs/tags/go1.21.2:src/strings/strings.go;l=456">strings.go;line456</a>)</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="n">words</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">}</span>

<span class="k">var</span> <span class="n">b</span> <span class="n">strings</span><span class="o">.</span><span class="n">Builder</span>

<span class="n">b</span><span class="o">.</span><span class="n">WriteString</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="m">0</span><span class="p">])</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">s</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">words</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="p">]</span> <span class="p">{</span>
    <span class="n">b</span><span class="o">.</span><span class="n">WriteString</span><span class="p">(</span><span class="s">"-"</span><span class="p">)</span>
    <span class="n">b</span><span class="o">.</span><span class="n">WriteString</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">String</span><span class="p">())</span>
<span class="c">// a-b-c</span>
</pre></td></tr></tbody></table></code></div></div>

<blockquote>
  <p>A Builder is used to efficiently build a string using Write methods. It minimizes memory copying. The zero value is ready to use. Do not copy a non-zero Builder.</p>
  <ul>
    <li><a href="https://pkg.go.dev/strings#Builder">pkg.go.dev</a></li>
  </ul>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">Builder</code>에 대해 알아두면 시간 단축에 많은 도움이 된다. 대표적인 메서드는 아래와 같다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Len</code>: 축적된 문자열의 길이</li>
  <li><code class="language-plaintext highlighter-rouge">Reset</code>: 초기화</li>
  <li><code class="language-plaintext highlighter-rouge">String</code>: 축적된 문자를 문자열로 반환</li>
  <li><code class="language-plaintext highlighter-rouge">WriteRune</code>: 문자 입력</li>
  <li><code class="language-plaintext highlighter-rouge">WriteString</code>: 문자열 입력</li>
</ul>

<h3 id="결과-2"><span class="me-2">결과</span><a href="#결과-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><a href="https://www.acmicpc.net/problem/1181">백준 1181번</a> 문제를 풀이한 결과를 보자.</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>문자열 결합</th>
      <th style="text-align: center">풀이 시간</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>builder.WriteString(“\n”)</td>
      <td style="text-align: center">28ms</td>
    </tr>
    <tr>
      <td>Println</td>
      <td style="text-align: center">884ms</td>
    </tr>
    <tr>
      <td>+= “\n”</td>
      <td style="text-align: center">시간 초과 (2초 이상)</td>
    </tr>
  </tbody>
</table></div>

<p><code class="language-plaintext highlighter-rouge">WriteString</code>이 압도적으로 빠른 것을 볼 수 있다. 심지어는 <code class="language-plaintext highlighter-rouge">Python</code>을 이용한 동일한 풀이도 200ms가 나왔다. 그에 비해 <code class="language-plaintext highlighter-rouge">Go</code>가 884ms나 시간 초과를 내는 것을 보면 잘못된 문자열 조작이 얼마나 치명적인가를 알 수 있다.</p>

<hr />

<h2 id="정규-표현식"><span class="me-2">정규 표현식</span><a href="#정규-표현식" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p><code class="language-plaintext highlighter-rouge">Go</code>의 정규 표현식인 <code class="language-plaintext highlighter-rouge">regexp</code>는 비교적 느리다고 알려져 있다. 따라서 직접 <code class="language-plaintext highlighter-rouge">Go</code> 레벨에서 처리해주는 것이 속도 향상에 도움이 될 수 있다.</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c">// regexp 예시</span>
<span class="n">re</span> <span class="o">:=</span> <span class="n">regexp</span><span class="o">.</span><span class="n">MustCompile</span><span class="p">(</span><span class="s">`[&lt;&gt;\(\)]|&amp;&amp;|\|\|`</span><span class="p">)</span>
<span class="n">sentence</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">ReplaceAllString</span><span class="p">(</span><span class="n">sentence</span><span class="p">,</span> <span class="s">` $0 `</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="결과-3"><span class="me-2">결과</span><a href="#결과-3" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>풀이 방식</th>
      <th style="text-align: center">풀이 시간</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>for { switch }</td>
      <td style="text-align: center">168ms</td>
    </tr>
    <tr>
      <td>regexp.ReplaceAllString</td>
      <td style="text-align: center">444ms</td>
    </tr>
  </tbody>
</table></div>

<p><a href="https://www.acmicpc.net/problem/27649">백준 27649</a>을 풀어본 결과, 복잡한 <code class="language-plaintext highlighter-rouge">regexp</code>를 사용하는 것보다 <code class="language-plaintext highlighter-rouge">반복문+조건문</code>으로 직접 구현하는 것이 더 빠른 것을 볼 수 있다. 다만 ‘백준 2870’, ‘백준 1264’와 같이 간단한 문제는 정규 표현식을 사용해도 성능에 큰 영향은 없었다. </p>

<hr />

<h2 id="함수-인라인"><span class="me-2">함수 인라인</span><a href="#함수-인라인" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>만약 사용 중인 Go의 버전이 1.16 이하라면 함수의 인자와 반환값을 스택에 전달하는 방식을 사용한다. 이로 인해 약간의 성능 저하가 발생할 수 있으므로 간단한 함수라면 인라인 처리하는 것이 유리하다.</p>

<blockquote class="prompt-info">
  <p>Go 1.17 implements a new way of passing function arguments and results using registers instead of the stack. Benchmarks for a representative set of Go packages and programs show performance improvements of about 5%, and a typical reduction in binary size of about 2%.<br />
- <a href="https://go.dev/doc/go1.17#compiler">Go 1.17 Release Notes</a></p>
</blockquote>

<p>그리고 이 부분은 Go 1.17에서 해결되었다.</p>

<p><code class="language-plaintext highlighter-rouge">백준</code>과 <code class="language-plaintext highlighter-rouge">leetcode</code>에서 <code class="language-plaintext highlighter-rouge">Go 1.18</code>을 사용하고 있기 때문에 큰 문제가 되지 않는다. 굳이 인라인 처리해서 코드를 더럽게 만들지 말자. (23.10.09)</p>

<hr />

<h2 id="체크리스트"><span class="me-2">체크리스트</span><a href="#체크리스트" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul class="task-list">
  <li class="task-list-item"><i class="fas fa-check-circle fa-fw checked"></i>사전에 메모리를 충분히 확보했는가?</li>
  <li class="task-list-item"><i class="fas fa-check-circle fa-fw checked"></i><code class="language-plaintext highlighter-rouge">fmt</code>로 입력을 받고 있지 않은가?</li>
  <li class="task-list-item"><i class="fas fa-check-circle fa-fw checked"></i><code class="language-plaintext highlighter-rouge">fmt</code>나 <code class="language-plaintext highlighter-rouge">+</code>로 문자열을 적고 있지 않은가?</li>
  <li class="task-list-item"><i class="fas fa-check-circle fa-fw checked"></i>복잡한 정규표현식을 사용하고 있지 않은가?</li>
  <li class="task-list-item"><i class="fas fa-check-circle fa-fw checked"></i><code class="language-plaintext highlighter-rouge">Go</code>가 최신 버전인가?</li>
</ul>

<p>이 글은 코딩테스트 한정 <code class="language-plaintext highlighter-rouge">Go</code>를 빠르게 만드는 방법이다.</p>

<p><a href="/assets/posts/faster-go/gopher-recover.png" class="popup img-link "><img data-src="/assets/posts/faster-go/gopher-recover.png" alt="" class="lazyload" data-proofer-ignore></a></p>

<p>성능이 크게 중요하지 않다면 <code class="language-plaintext highlighter-rouge">가독성 좋은 코드</code>, <code class="language-plaintext highlighter-rouge">안정적인 코드</code>, <code class="language-plaintext highlighter-rouge">수정/확장이 용이한 코드</code>가 우선이라는 걸 잊지 말자. <del>불쌍한 Gopher를 위해서라도.</del></p>

<hr />

<ul>
  <li>이미지 출처: <a href="https://github.com/tottie000/GopherIllustrations#-guidelines-for-the-use-of-illustrations">tottie000/GopherIllustrations</a></li>
  <li>The Go gopher was designed by Renée French. Illustrations by tottie.</li>
</ul>

</div>


<div class="post-tail-wrapper text-muted">

  <!-- categories -->
  
    <div class="post-meta mb-3">
      <i class="far fa-folder-open fa-fw me-1"></i>
      
        <a href="/categories/playground/">Playground</a>
    </div>
  

  <!-- tags -->
  
  <div class="post-tags">
    <i class="fa fa-tags fa-fw me-1"></i>
    
    <a href="/tags/go/" class="post-tag no-text-decoration">Go</a>
    
  </div>
  

  <div class="post-tail-bottom
    d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
    <div class="license-wrapper">
      
        

        이 글은 저작권자의 
        <a href="https://creativecommons.org/licenses/by-nc/4.0/">
          CC BY-NC 4.0
        </a>
         라이센스를 따릅니다.
      
    </div>

    <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted me-1">공유하기</span>
  <span class="share-icons">
    
    
    

    
      
      <a
        href="https://twitter.com/intent/tweet?text=Go%EB%A5%BC%20%EB%B9%A0%EB%A5%B4%EA%B2%8C%20%EA%B5%B4%EB%A6%AC%EA%B8%B0%20-%20Jin's%20Notes&url=https%3A%2F%2Fdenev6.github.io%2Fplayground%2F2023%2F10%2F08%2Ffaster-go.html"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Twitter"
        target="_blank"
        rel="noopener"
        aria-label="Twitter"
      >
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    
      
      <a
        href="https://www.facebook.com/sharer/sharer.php?title=Go%EB%A5%BC%20%EB%B9%A0%EB%A5%B4%EA%B2%8C%20%EA%B5%B4%EB%A6%AC%EA%B8%B0%20-%20Jin's%20Notes&u=https%3A%2F%2Fdenev6.github.io%2Fplayground%2F2023%2F10%2F08%2Ffaster-go.html"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Facebook"
        target="_blank"
        rel="noopener"
        aria-label="Facebook"
      >
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    
      
      <a
        href="https://t.me/share/url?url=https%3A%2F%2Fdenev6.github.io%2Fplayground%2F2023%2F10%2F08%2Ffaster-go.html&text=Go%EB%A5%BC%20%EB%B9%A0%EB%A5%B4%EA%B2%8C%20%EA%B5%B4%EB%A6%AC%EA%B8%B0%20-%20Jin's%20Notes"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Telegram"
        target="_blank"
        rel="noopener"
        aria-label="Telegram"
      >
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    
      
      <a
        href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fdenev6.github.io%2Fplayground%2F2023%2F10%2F08%2Ffaster-go.html"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Linkedin"
        target="_blank"
        rel="noopener"
        aria-label="Linkedin"
      >
        <i class="fa-fw fab fa-linkedin"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="링크 복사하기"
      data-title-succeed="링크가 복사되었습니다!"
    >
      <i class="fa-fw fas fa-link pe-none"></i>
    </button>
  </span>
</div>

  </div>
  <!-- .post-tail-bottom -->
</div>
<!-- div.post-tail-wrapper -->


  

  
</article>

          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get the last 5 posts from lastmod list. -->















              <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">인기 태그</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ai/">AI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">Python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cv/">CV</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/go/">Go</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/pytorch/">Pytorch</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/blog/">blog</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/nlp/">NLP</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4 mb-5">
    <h2 class="panel-heading ps-3 pt-2 mb-2">바로가기</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
                
                <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">관련된 글</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/playground/2023/10/06/lovely-go.html" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
    class="small"
  
  data-ts="1696518000"
  data-df="YYYY/MM/DD"
  
>
  2023/10/06
</time>

              <h4 class="pt-0 my-2">Go 언어의 매력</h4>
              <div class="text-muted small">
                <p>
                  





                  
@waterglasstoon

평소 Python으로 일상생활에 필요한 프로그램을 만들어 왔다. 하지만 실행 속도가 아쉽다 생각했고, 그 대안으로 C++, Go를 둘러보던 중 Go에 제대로 빠졌다.



우리의 귀여운 Gopher다. 마스코트는 어벙해보이지만 성능은 야무지다.



Why Go?

Python을 메인으로 사용하며 아래 조건을 만족하는 ...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/playground/2023/10/14/goset.html" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
    class="small"
  
  data-ts="1697209200"
  data-df="YYYY/MM/DD"
  
>
  2023/10/14
</time>

              <h4 class="pt-0 my-2">PySet을 Go답게</h4>
              <div class="text-muted small">
                <p>
                  





                  PySet은 아주 유용한 자료구조이다. 이를 Go로 Go스럽게 구현하기 위해 CPython의 소스코드와 golang 소스코드를 살펴보았다. set과 map이 뒤에서 어떻게 작동하는지를 살펴보고 가장 합리적인 방법으로 집합을 구현해보려 한다.



문제

Python에는 집합이라는 아주 유용한 구조가 있다. set 객체는 크게 2가지 역할이 있는데, 중...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/playground/2022/07/11/time-memory.html" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
    class="small"
  
  data-ts="1657465200"
  data-df="YYYY/MM/DD"
  
>
  2022/07/11
</time>

              <h4 class="pt-0 my-2">데코레이터, 컨텍스트 매니저로 성능 측정</h4>
              <div class="text-muted small">
                <p>
                  





                  알고리즘 또는 패키지 성능을 테스트할 때 시간과 메모리를 측정할 일이 정말 많다. 그런데 특히 메모리와 관련해 정리된 글을 못 찾았다.

그래서 시간과 메모리 측정을 위해 사용할 수 있는 방법들을 구상해 정리해보았다. 그리고 Decorator+시간측정, Context Manager+메모리 측정를 사용해 파이썬다운 이쁜 코드를 적어보았다.



Deco...
                </p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


              
                
                <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/playground/2023/10/06/lovely-go.html"
      class="btn btn-outline-primary"
      aria-label="이전 글"
    >
      <p>Go 언어의 매력</p>
    </a>
  

  
    <a
      href="/machine-learning/2023/10/10/svm.html"
      class="btn btn-outline-primary"
      aria-label="다음 글"
    >
      <p>Support Vector Machine</p>
    </a>
  
</nav>

              
                
                <!--  The comments switcher -->

  
  <!-- https://utteranc.es/ -->
<script src="https://utteranc.es/client.js"
        repo="denev6/utterances"
        issue-term="pathname"
        crossorigin="anonymous"
        async>
</script>

<script type="text/javascript">
  $(function() {
    const origin = "https://utteranc.es";
    const iframe = "iframe.utterances-frame";
    const lightTheme = "github-light";
    const darkTheme = "github-dark";
    let initTheme = lightTheme;

    if ($("html[data-mode=dark]").length > 0
        || ($("html[data-mode]").length == 0
            && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
      initTheme = darkTheme;
    }

    addEventListener("message", (event) => {
      let theme;

      /* credit to <https://github.com/utterance/utterances/issues/170#issuecomment-594036347> */
      if (event.origin === origin) {
        /* page initial */
        theme = initTheme;

      } else if (event.source === window && event.data &&
            event.data.direction === ModeToggle.ID) {
        /* global theme mode changed */
        const mode = event.data.message;
        theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme);

      } else {
        return;
      }

      const message = {
        type: "set-theme",
        theme: theme
      };

      const utterances = document.querySelector(iframe).contentWindow;
      utterances.postMessage(message, origin);
    });

  });
</script>



              
            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>
    ©
    <time>2025</time>
    <a href="https://github.com/denev6">박성진</a>.
    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY-NC 4.0) 라이선스에 따라 사용이 허가되었습니다."
      >일부 권리 보유</span>
    
  </p>

  <p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">인기 태그</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ai/">AI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">Python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cv/">CV</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/go/">Go</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/pytorch/">Pytorch</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/blog/">blog</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/nlp/">NLP</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.9/dayjs.min.js,npm/dayjs@1.11.9/locale/ko.min.js,npm/dayjs@1.11.9/plugin/relativeTime.min.js,npm/dayjs@1.11.9/plugin/localizedFormat.min.js,npm/tocbot@4.21.1/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>
